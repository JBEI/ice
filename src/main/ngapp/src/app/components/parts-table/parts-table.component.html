<div *ngIf="!parts" class="text-black-50 font-italic p-4">
    No available parts
</div>

<div *ngIf="parts">
    <table class="table border-bottom table-hover font-95em" [ngClass]="{'opacity-25':paging.processing}">
        <thead style="color: #344050; font-size: 0.80em" class="text-uppercase text-muted">
        <tr>
            <th scope="col"><i class="bi bi-square font-12em"></i>
            </th>
            <th scope="col">Type</th>
            <th scope="col">Part ID</th>
            <th scope="col">Name</th>
            <th scope="col">Status</th>
            <th scope="col">

            </th>
            <th scope="col">Created</th>
        </tr>
        </thead>

        <tbody style="font-size: 0.95em">
        <tr *ngFor="let part of parts">
            <td style="width: 43px">
                <i class="bi bi-square" (click)="select(part)"
                   [ngClass]="{'fa-square-o':!isSelected(part), 'fa-check-square-o':isSelected(part)}">
                </i>
            </td>
            <td class="font-90em text-uppercase text-black-50 font-weight-bold">
                <i class="bi bi-trash text-danger" *ngIf="part.visible=='DELETED'"></i>
                {{part.type}}
                <i class="bi bi-cloud" *ngIf="part.visible=='REMOTE'" style="color: #c9e6f2"></i>
            </td>
            <td style="width: 120px">
                <a [href]="'entry/' + part.id">{{part.partId}}</a>
            </td>
            <td>
                <div title="{{part.name}}" class="text-truncate" style="width: 350px">{{part.name}}</div>
                <div *ngIf="part.shortDescription" title="{{part.shortDescription}}"
                     class="small text-muted text-truncate"
                     style="width: 350px">
                    {{part.shortDescription}}
                </div>
                <i *ngIf="!part.shortDescription" class="small text-muted">No description provided</i>
            </td>
            <!--            <td style="vertical-align: middle">-->
            <!--                <a class="cursor_pointer" ngbTooltip="{{part.viewCount}} views">-->
            <!--                <span *ngIf="part.viewCount > 1" class="glyphicon glyphicon-fire small" [ngClass]="{-->
            <!--                'light-blue': part.viewCount < 50,-->
            <!--                'gold': part.viewCount >= 50 && part.viewCount <= 100,-->
            <!--                 'orange': part.viewCount > 100 && part.viewCount <= 500,-->
            <!--                  'dark-orange': part.viewCount > 500 && part.viewCount <= 1000,-->
            <!--                  'red': part.viewCount > 1000}"></span>-->
            <!--                </a>-->
            <!--            </td>-->
            <td style="vertical-align: middle; width:100px; white-space:nowrap">
                <i class="bi bi-circle-fill" [ngClass]="{
                'text-success':part.status.toUpperCase()=='COMPLETE',
                'text-secondary': part.status.toUpperCase()=='In Progress'.toUpperCase(),
                'text-danger': part.status.toUpperCase()=='Abandoned'.toUpperCase(),
                'text-info': part.status.toUpperCase()=='Planned'.toUpperCase()}"></i>
                <span class="text-muted"> {{part.status}}</span>
            </td>

            <td style="vertical-align: middle; white-space: nowrap">
                <i *ngIf="part.hasSample" class="fa fa-flask fa-fw dark-gray"
                   style="color: #555; font-size: 14px;"></i>
                <i *ngIf="!part.hasSample" class="fa fa-square fa-fw"
                   style="opacity: 0; font-size: 14px;"></i>

                <img *ngIf="part.hasSequence" src="assets/img/dna.svg" width="16px"
                     style="margin-left: 2px; margin-right: 3px"/>
                <i *ngIf="!part.hasSequence" class="bi bi-square"
                   style="opacity: 0; font-size: 14px"></i>

                <span *ngIf="part.linkedParts.length || part.parents.length">
                    <span class="opacity_hover link-sup">{{part.parents.length}}</span>
                    <span class="bi bi-link"></span>
                    <span class="opacity_hover link-sub">{{part.linkedParts.length}}</span>
                </span>

                <i *ngIf="!part.linkedParts.length && !part.parents.length" class="bi bi-square"
                   style="opacity: 0; font-size: 14px;"></i>
            </td>
            <td style="width: 130px; white-space: nowrap; vertical-align: middle;">
                {{part.creationTime | date}}
            </td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <div class="d-flex justify-content-between">
        <ngb-pagination [collectionSize]="paging.available" [pageSize]="paging.limit" [(page)]="paging.currentPage"
                        [boundaryLinks]="true" [maxSize]="5" (pageChange)="pageChange($event)" size="sm">
            <ng-template ngbPaginationFirst><i
                    class="fa fa-fw fa-angle-double-left"></i> First
            </ng-template>
            <ng-template ngbPaginationPrevious><i
                    class="fa fa-fw fa-angle-left"></i>Prev
            </ng-template>
            <!--                            <ng-template ngbPaginationNumber let-p><button class="btn btn-sm btn-white">{{p}}</button></ng-template>-->
            <ng-template ngbPaginationNext>Next<i
                    class="fa fa-fw fa-angle-right"></i></ng-template>
            <ng-template ngbPaginationLast>Last<i
                    class="fa fa-fw fa-angle-double-right"></i>
            </ng-template>
        </ngb-pagination>

        <strong class="small">{{pageCounts(paging.currentPage, paging.available, paging.limit)}}</strong>
    </div>
</div>
